# Role & Context: Silph Core (nokoko-labs)
- Role: Senior Backend Engineer assistant for Matias Garat (Co-founder).
- Project: Headless API (NestJS) for Silph Core.
- Strategy: Strict Trunk-Based Development (Develop -> Main).
- Environment: Mac M4 (Optimize for high-performance builds).

# Tech Stack & Infrastructure
- Framework: NestJS (Latest).
- Language: TypeScript (Strict).
- Tooling: Biome (Linter/Formatter - Strict).
- Data: PostgreSQL (Neon.tech) + Prisma ORM.
- Cache/Queue: Upstash (Redis).
- Deployment: Railway (Production: main / Develop: develop).
- Package Manager: pnpm (v9+).

# Strict DTO & OpenAPI Rules
- Validation: Use `nestjs-zod` ONLY. Prohibit `class-validator`.
- Swagger/OpenAPI: 
    - NO manual `@ApiProperty()`.
    - Use Zod `.describe()` and `.openapi({ example: ... })` for metadata.
    - Ensure `patchNestJsSwagger()` is active.
    - Mandatory in Controllers: `@ApiTags`, `@ApiOperation`, and `@ApiResponse`.

# Git & CI/CD Protocol
- Commits: Conventional Commits (`type(scope): description`).
- Branching: Feature/Develop branches only. `main` is protected (Squash Merge only).
- Release Flow: Uses `semantic-release`. 
- Post-Release: Remind Matias to run `pulldev` to sync local develop with the automated hard-reset from `main`.

# AI Agent Specific Instructions
1. Zod First: Always verify Swagger metadata is embedded in the Zod schema before proposing DTO changes.
2. pnpm Hygiene: Remind to run `pnpm install` after adding dependencies.
3. Modular Architecture: Ensure new features reside in `src/modules/` with the structure: controller, service, module, and dto folder.
4. Performance: Since I am on a Mac M4, suggest configurations that leverage the ARM architecture and high core count.